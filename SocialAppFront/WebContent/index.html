<!DOCTYPE html>
<html>
<head>

<title>Social App</title>
<!-- ------------------------------Link Starts----------------------------------------------->
<!-- Bootstrap,Angular Js,Angular Route Js  -->


<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

 <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.6/umd/popper.min.js"></script>

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet"/>

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"></script>



<!-- navbar -->
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
 <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-#3d1556.css"> 
<link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Open+Sans'>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<link rel="stylesheet" href="css/index.css">
  
<!---------------------------End--------------------------------------------->
 
<style>
html,body,h1,h2,h3,h4,h5 {font-family: "Open Sans", sans-serif,"Raleway"}
.w3-quarter img{margin-bottom: -6px; cursor: pointer}
.w3-quarter img:hover{opacity: 0.6; transition: 0.3s}
.input {
  background-image: url('/css/searchicon.png');
  background-position: 7px 10px;
  background-repeat: no-repeat;
  width: 60%;
  font-size: 16px;
  padding: 12px 20px 12px 40px;
  border: 1px solid #ddd;
  margin-bottom: 12px;
}
</style> 
</head>
<body ng-app="app">
<!-- Navbar -->
<div class="w3-top">
 <div class="w3-bar w3-theme-d2 w3-left-align w3-large">
 
    <div class="w3-overlay w3-animate-opacity" onclick="w3_close()" style="cursor:pointer" title="close side menu" id="myOverlay"></div>
  
  <a ng-show="currentUser.username" class="w3-bar-item w3-button  w3-hide-medium w3-hide-large w3-right w3-padding-large w3-hover-white w3-large w3-theme-d2" href="javascript:void(0);" onclick="openNav()"><i class="fa fa-bars"></i></a>
  <a  href=""ng-show="currentUser.username" class="w3-bar-item w3-button w3-padding-large w3-theme-d4"><img src="images/logo.jp" alt="logo" style="width:50px;"></a>
   <!-- --------seach bar------- -->
   <!--  <div class="col-sm-3 col-md-3 pull-left"  ng-show="currentUser.username" >
   <form class="navbar-form" role="search">
                <div class="input-group">
                    <input type="text" class="form-control"  placeholder="Search" name="q">
                    <div class="input-group-btn">
                        <button class="btn btn-default" type="submit"><i class="glyphicon glyphicon-search"></i></button>
                    </div>
                </div>
            </form>
  </div> -->
  <!-- -----------end-------------- -->
  <a href="#/home" ng-show="currentUser.username" class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-white" title="home"><i class="fa fa-home" style="font-size:20px;"></i></a>
  
  <a href="#/editprofile" ng-show="currentUser.username" class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-white" title="Edit User Profile"><i  class="fa fa-pencil-square-o" aria-hidden="true" style="font-size:19px;"></i></a>
 <!--  <i class="fa fa-pencil-square-o" aria-hidden="true"></i> -->
 
<!-- <p><i class="w3-jumbo w3-spin fa fa-home"></i></p> -->
 
  <a href="#" ng-show="currentUser.username" class="w3-bar-item w3-button w3-center w3-hide-small w3-padding-large w3-hover-white" title="News"><i class="fa fa-globe" style="font-size:19px;"></i></a>
 
  <a href="#" ng-show="currentUser.username" class="w3-bar-item w3-button w3-center w3-hide-small w3-padding-large w3-hover-white" title="Messages"><i class="fa fa-envelope"style="font-size:19px;"></i></a>
  
 <!--  <div ng-show="currentUser.username"  class="w3-dropdown-hover w3-hide-small w3-center w3-hover-white">
    <button class="w3-button w3-padding-large" title="Job"><i class="fa fa-graduation-cap " style="font-size:15px;"><b class="fa fa-angle-double-down " style="font-size:15px;"></b></i><span class="w3-badge w3-right w3-small w3-green" style="font-size:45px;"></span></button>     
    <div class="w3-dropdown-content w3-card-4 w3-bar-block" style="width:300px">
      <a href="#/addjob" ng-show="currentUser.role=='ADMIN'" class="w3-bar-item w3-button">Add Job</a>
      <a href="#/alljobs"  class="w3-bar-item w3-button">List of Profile</a>
     
    </div>
  </div> -->
  
  <div ng-show="currentUser.username"  class="w3-dropdown-hover w3-hide-small w3-center w3-hover-white">
    <button class="w3-button w3-padding-large" title="Job"><i class="fa fa-comments-o" style="font-size:19px;"><b class="fa fa-angle-double-down " style="font-size:17px;"></b></i><span class="w3-badge w3-right w3-small w3-green" style="font-size:45px;"></span></button>     
    <div class="w3-dropdown-content w3-card-4 w3-bar-block" style="width:300px">
      <a href="#/addblog"  class="w3-bar-item w3-button">Add Blog Post</a>
      <!-- <a  href="#/getblogs" ng-show="currentUser.role=='ADMIN'" class="w3-bar-item w3-button">Get All Blogs</a> -->
      <a href="#/getblogs"  class="w3-bar-item w3-button">Blogs List</a>
     
    </div>
  </div>
  
   
    <div ng-show="currentUser.username"  class="w3-dropdown-hover w3-hide-small w3-center w3-hover-white">
    <button class="w3-button w3-padding-large" title="Job"><i class="fa fa-users " style="font-size:17px;"><b class="fa fa-angle-double-down " style="font-size:17px;"></b></i></button>     
    <div class="w3-dropdown-content w3-card-4 w3-bar-block" style="width:300px">
      <a href="#/suggestedusers"  class="w3-bar-item w3-button">Find Friends</a>
      <a href="#/getblogs"  class="w3-bar-item w3-button">Blogs List</a>
     
    </div>
  </div>





<div ng-show="currentUser.username"  class="w3-dropdown-hover w3-hide-small w3-hover-white">
    <button class="w3-button w3-padding-large"  title="Notifications" ng-click="updateLength()"><i class="fa fa-bell" style="font-size:16px;" ng-click="updateLength()"></i>
    <span class="w3-badge w3-right w3-small w3-green" ng-if="notificationNotViewedLength>0 || notificationNotViewedLikeLength>0 || notificationNotViewedCommentLength>0" style="font-size:17px;">{{notificationNotViewedLength -- notificationNotViewedLikeLength -- notificationNotViewedCommentLength}}</span></button>     
    <div class="w3-dropdown-content w3-card-4 w3-bar-block" style="width:300px">
    <div ng-repeat="notification in notificationNotViewed">
      <a href="" ng-click="updateNotification(notification.id)" style="color:#10CE88"class="w3-bar-item w3-button">
      <b>"{{notification.blogTitle}}"</b> is {{notification.approvalStatus}} {{notification.rejectionReason}}</a></div>
      

     <div ng-repeat="notification in notificationViewed">
      <a href="" ng-click="" style="color:black" class="w3-bar-item w3-button">
      <b>"{{notification.blogTitle}}"</b> is {{notification.approvalStatus}} {{notification.rejectionReason}}</a></div>
      
      
      
            <!-- like -->
            <div ng-repeat="notification in notificationNotViewedLike">
      <a href="" ng-click="updateNotificationLike(notification.id)" style="color:#10CE88" class="w3-bar-item w3-button">
      <b>"{{notification.likedBy.username}}"</b> liked your post {{notification.blogTitle}}</a></div>
      

     <div ng-repeat="notification in notificationViewedLike">
      <a href="" ng-click="" style="color:black" class="w3-bar-item w3-button" class="w3-bar-item w3-button">
      <b>"{{notification.likedBy.username}}"</b>  liked your post {{notification.blogTitle}}</a></div>
      
      <!-- comment -->
  
            <div ng-repeat="notification in notificationNotViewedComment" class="w3-bar-item w3-button">
      <a href="" ng-click="updateNotificationComment(notification.id)" style="color:#10CE88">
      <b>"{{notification.commentedBy.username}}"</b> commented your post {{notification.blogTitle}}</a></div>
      

     <div ng-repeat="notification in notificationViewedComment">
      <a href="" ng-click="" style="color:black;" class="w3-bar-item w3-button">
      <b>"{{notification.commentedBy.username}}"</b> commented  your post {{notification.blogTitle}}</a></div>
      
      
      
      
      
   

  
  
  
  
 <!--  <div ng-show="currentUser.username"  class="w3-dropdown-hover w3-hide-small w3-hover-white">
    <button class="w3-button w3-padding-large"  title="Notifications" ng-click="updateLength()"><i class="fa fa-bell" style="font-size:16px;" ng-click="updateLength()"></i>
    <span class="w3-badge w3-right w3-small w3-green" ng-if="notificationNotViewedLength>0 || notificationViewedLikeLength>0  style="font-size:17px;">{{notificationNotViewedLength -- notificationViewedLikeLength}}</span></button>     
    <ul class="w3-dropdown-content w3-card-4 w3-bar-block" style="width:300px">
    <li ng-repeat="notification in notificationNotViewed">
      <a href="" ng-click="updateNotification(notification.id)" style="color:#10CE88">
      <b>"{{notification.blogTitle}}"</b> is {{notification.approvalStatus}} {{notification.rejectionReason}}</a></li>
      

     <li ng-repeat="notification in notificationViewed">
      <a href="" ng-click="" style="color:black">
      <b>"{{notification.blogTitle}}"</b> is {{notification.approvalStatus}} {{notification.rejectionReason}}</a></li>
      
      
      
            like
            <li ng-repeat="notification in notificationNotViewedLike">
      <a href="" ng-click="updateNotificationLike(notification.id)" style="color:#10CE88">
      <b>"{{notification.likedBy.username}}"</b> is liked your post {{notification.bolgTitle}}</a></li>
      

     <li ng-repeat="notification in notificationViewedLike">
      <a href="" ng-click="" style="color:black">
      <b>"{{notification.likedBy.username}}"</b> is liked your post {{notification.bolgTitle}}</a></li> -->
      
      <!-- comment -->
  
          <!--   <li ng-repeat="notification in notificationNotViewedComment">
      <a href="" ng-click="updateNotificationLike(notification.id)" style="color:#10CE88">
      <b>"{{notification.commentedBy.username}}"</b> is liked your post {{notification.bolgTitle}}</a></li>
      

     <li ng-repeat="notification in notificationViewedComment">
      <a href="" ng-click="" style="color:black">
      <b>"{{notification.commentedBy.username}}"</b> is liked your post {{notification.bolgTitle}}</a></li>
       -->
      
      
      
      
    </div>
  </div> 
  
  <!-- <div ng-show="currentUser.username"  class="w3-dropdown-hover w3-hide-small w3-hover-white">
    <button class="w3-button w3-padding-large"  title="Notifications" ng-click="updateLength()"><i class="fa fa-bell" style="font-size:16px;" ng-click="updateLength()"></i><span class="w3-badge w3-right w3-small w3-green" ng-if="notificationNotViewedLength>0" style="font-size:17px;">{{notificationNotViewedLength}}</span></button>     
    <ul class="w3-dropdown-content w3-card-4 w3-bar-block" style="width:300px">
    <li ng-repeat="notification in notificationNotViewed">
      <a href="" ng-click="updateNotification(notification.id)" style="color:#10CE88">
      <b>"{{notification.blogTitle}}"</b> is {{notification.approvalStatus}} {{notification.rejectionReason}}</a></li>
      

     <li ng-repeat="notification in notificationViewed">
      <a href="" ng-click="" style="color:black">
      <b>"{{notification.blogTitle}}"</b> is {{notification.approvalStatus}} {{notification.rejectionReason}}</a></li>
    </ul>
  </div> 
   -->
  
  
  <!-- <li class="dropdown" ng-show="currentUser.username" 
					style="padding-top: 13px; font-weight: bold; background-color: #286090;">
					<a   href=" " class="dropdown-toggle" data-toggle="dropdown"
					style="color: white; font-weight: bold; text-decoration: none;border-style:none; background-color: #286090; font-size: 17px;" >
					<span class="glyphicon glyphicon-globe" style="font-size:20px;" ng-click="updateLength()">
					<span class="rw-number-notification" ng-if="notificationNotViewedLength>0 || notificationNotViewedJobLength>0  || notificationNotViewedLikeLength>0  || notificationNotViewedCommentLength>0  ">
					{{notificationNotViewedLength -- notificationNotViewedJobLength -- notificationNotViewedLikeLength -- notificationNotViewedCommentLength }}</span></span></a>
					<span class="notify">
					<ul class="dropdown-menu">
					  <li class="dropdown-header" style="font-size:15px;">Notifications</li>
					  <li class="divider"></li>
					  <li ng-repeat="notification in notificationNotViewedJob" style="background-color:#F0F8FF"  tabindex="-1">
						<a href="" ng-click="updateNotificationJob(notification.id)" style="color:red;background-color:#F0F8FF">
						New Job for <b>"{{notification.jobTitle}}"</b> is available for you to apply .
						</a></li>
						 <li ng-if="notificationNotViewedJobLength>0" class="divider"></li>
						 
						 <li ng-repeat="notification in notificationNotViewedLike" style="background-color:#F0F8FF"  tabindex="-1">
						<a href="" ng-click="updateNotificationLike(notification.id)" style="color:red;background-color:#F0F8FF">
						 <b> '{{notification.likedBy.firstname}} &nbsp;{{notification.likedBy.lastname}} '</b> liked your post <b>"{{notification.blogTitle}}"</b>
						</a></li>
						 <li ng-if="notificationNotViewedLikeLength>0" class="divider"></li>
						 
						 <li ng-repeat="notification in notificationViewedLike"   tabindex="-1">
						<a href="" ng-click=" " style="color:blue">
						<b> '{{notification.likedBy.firstname}}&nbsp;{{notification.likedBy.lastname}}'</b> liked your post <b>"{{notification.blogTitle}}"</b>
						</a></li>
						   <li ng-if="notificationViewedLikeLength>0" class="divider"></li>
						   
						   <li ng-repeat="notification in notificationNotViewedComment" style="background-color:#F0F8FF"  tabindex="-1">
						<a href="" ng-click="updateNotificationComment(notification.id)" style="color:red;background-color:#F0F8FF">
						<b>' {{notification.commentedBy.firstname}} {{notification.commentedBy.lastname}}' </b>commented on your post <b>"{{notification.blogTitle}}"</b>
						</a></li>
						 <li ng-if="notificationNotViewedCommentLength>0" class="divider"></li>
						 
						 <li ng-repeat="notification in notificationViewedComment"   tabindex="-1">
						<a href="" ng-click=" " style="color:blue">
						<b> '{{notification.commentedBy.firstname}} {{notification.commentedBy.lastname}}' </b> commented on your post <b>"{{notification.blogTitle}}"</b>
						</a></li>
						   <li ng-if="notificationViewedCommentLength>0" class="divider"></li>
						   
					  <li ng-repeat="notification in notificationViewedJob"   tabindex="-1">
						<a href="" ng-click=" " style="color:blue">
						New Job for <b>"{{notification.jobTitle}}"</b> is available for you to apply .
						</a></li>
						 <li ng-if="notificationViewedJobLength>0" class="divider"></li>
						<li ng-repeat="notification in notificationNotViewed" style="background-color:#F0F8FF"  tabindex="-1">
						<a href="" ng-click="updateNotification(notification.id)" style="color:red;background-color:#F0F8FF">
						Your blog titled <b>"{{notification.blogTitle}}"</b> is {{notification.approvalStatus}} <span ng-if="notification.rejectionReason!=null"> due to  {{notification.rejectionReason}}
						</span>
						</a></li>
						  <li  ng-if="notificationNotViewedLength>0" class="divider"></li>
						<li ng-repeat="notification in notificationViewed"  tabindex="-1">
						<a href="" ng-click="" style="color:blue">
						Your blog titled <b>"{{notification.blogTitle}}"</b> is {{notification.approvalStatus}} {{notification.rejectionReason}}
						</a></li>						
					</ul>
					</span>				
					</li> -->
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <!-- <a href="" class="w3-dropdown-hover w3-hide-small w3-center w3-hover-white" ng-show="currentUser.username">
  <span class="glyphicon glyphicon-globe" ng-click="updateLenght()">
  <span class="rw-number-notification" ng-if="notificationNotViewedLength>0">{{notificationNotViewedLenght}}</span>
  <ul class="dropdown-menu">
    <li ng-repeat="notification in notificationNotViewed">
    <a href="" ng-click="updateNotification(notification.id)" style="color:red">
    <b>"{{notification.blogTitle}}"</b> is {{notification.approvalStatus}} {{notification.rejectionReason}}</a></li>
    
    <li ng-repeat="notification in notificationViewed">
    <a href="" ng-click="" style="color:blue">
    {{notification.blogTitle}} is {{notification.approvalStatus}} {{notification.rejectionReason}}</a></li>
  </ul>
  </li>
   -->
   
   
  
  
  
  
  <a  href="javascript:void(0)" class="w3-right w3-button w3-hover-white w3-hide-small w3-padding-large" onclick="w3_open() "><span class="glyphicon glyphicon-th-list" style="font-size:19px;"></span></a>
  <!-- <a href="#" ng-show="currentUser.username"  class="w3-bar-item w3-button w3-hide-small w3-right w3-padding-large w3-hover-white" title="My Account"><img src="/w3images/avatar2.png" class="w3-circle" style="height:25px;width:25px" alt="Avatar"></a> -->
  <a  href="#" ng-hide="currentUser.username" class="w3-bar-item w3-button w3-padding-large w3-theme-d4"><img src="images/logo.jp" alt="logo" style="width:50px;"></a>
  
  <a href=""  ng-show="currentUser.username" ng-click="logout()" class="w3-bar-item w3-button w3-right w3-hide-small w3-padding-large w3-hover-white" title="log out"><i class="fa fa-power-off" style="font-size:19px;"></i></a>
  
  
  <a href="#/register" ng-hide="currentUser.username"  class="w3-bar-item w3-button w3-right w3-hide-small w3-padding-large w3-hover-white" title="User registration">sign up</a>
  <a href="#/login" ng-hide="currentUser.username" class="w3-bar-item w3-button w3-right w3-hide-small w3-padding-large w3-hover-white" title="log in">sign in</a>
<!--   <a href=""  ng-show="currentUser.username" ng-click="logout()" class="w3-bar-item w3-button w3-right w3-hide-small w3-padding-large w3-hover-white" title="log out"><i class="fa fa-power-off" style="font-size:19px;"></i></a> -->
  <div ng-show="currentUser.username" class=" w3-right w3-padding-large"> Welcome {{currentUser.username}}</div> 
   
   
   <!-- profile  -->
   <a href="#/uploadpic" ng-show="currentUser.username" class="w3-bar-item w3-button w3-hide-small w3-right w3-padding-large w3-hover-white" title="Edit User Profile">
  <img src="http://localhost:8080/SocialAppMRest/getimage/{{currentUser.username}}"  alt="" onerror="this.src='images/avtar3.png'" class="img-responsive img-circle w3-right " height="30" width="40" ></a> 
  <!-- end -->
   
   
   
    <div ng-show="currentUser.username"  class="w3-dropdown-hover w3-hide-small w3-center w3-hover-white">
    <button class="w3-button w3-padding-large" title="Job"><i class="fa fa-graduation-cap " style="font-size:17px;"><b class="fa fa-angle-double-down " style="font-size:18px;"></b></i><span class="w3-badge w3-right w3-small w3-green" style="font-size:45px;"></span></button>     
    <div class="w3-dropdown-content w3-card-4 w3-bar-block" style="width:300px">
      <a href="#/addjob" ng-show="currentUser.role=='ADMIN'" class="w3-bar-item w3-button">Add Job</a>
      <a href="#/alljobs"  class="w3-bar-item w3-button">List of Profile</a>
     
    </div>
  </div>
   
   <!-- Sidebar/menu -->
   <br><br>
<div  ng-show="currentUser.username"  class="w3-sidebar w3-bar-block w3-black w3-animate-right  w3-text-light-grey w3-large" style="z-index:3;width:250px;font-weight:bold;display:none;right:0;font-size:17px;" id="mySidebar">
 <a href="javascript:void()" onclick="w3_close()" class="w3-bar-item w3-button w3-center w3-padding-32">CLOSE</a> 
  <li href="#"  class="w3-bar-item w3-button w3-center w3-padding-16">Friends</li> 
     <!-- --------seach bar------- -->
    <div class="col-sm-3 col-md-12 pull-center" ng-show="currentUser.username">
   <form  role="search">
                <div class="input-group">
                    <input type="text" class="form-control"  placeholder="Search" name="q">
                    <div class="input-group-btn">
                        <button class="btn btn-default" type="submit"><i class="glyphicon glyphicon-search"></i></button>
                    </div>
                </div>
            </form>
  </div>
  <!-- -----------end-------------- -->
  <!-- <a href="#about" onclick="w3_close()" class="w3-bar-item w3-button w3-center w3-padding-16">ABOUT ME</a> 
  <a href="#contact" onclick="w3_close()" class="w3-bar-item w3-button w3-center w3-padding-16">CONTACT</a> -->
  <marquee bgcolor="#66CD00" style="height:60px" ><b><br>Welcome {{currentUser.firstname}}&nbsp;{{currentUser.lastname}}</b></marquee>
</div> 



 </div>
</div>

<div ng-view>
</div>

</body>

<script>
// Script to open and close sidebar
function w3_open() {
    document.getElementById("mySidebar").style.display = "block";
    document.getElementById("myOverlay").style.display = "block";
}
function w3_close() {
    document.getElementById("mySidebar").style.display = "none";
    document.getElementById("myOverlay").style.display = "none";
}
// Modal Image Gallery
function onClick(element) {
  document.getElementById("img01").src = element.src;
  document.getElementById("modal01").style.display = "block";
  var captionText = document.getElementById("caption");
  captionText.innerHTML = element.alt;
}
</script>



<script type="text/javascript"
	src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.9/angular.js"></script>
<script type="text/javascript"
	src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.9/angular-route.js"></script>
<script type="text/javascript"
	src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.9/angular-cookies.js"></script>		
<script type="text/javascript" src="js/app.js"></script>
<script type="text/javascript" src="controllers/usercontroller.js"></script>
<script type="text/javascript" src="services/userservice.js"></script>
<script type="text/javascript" src="controllers/jobcontroller.js"></script>
<script type="text/javascript" src="services/jobservice.js"></script>
<script type="text/javascript" src="controllers/blogpostcontroller.js"></script>
<script type="text/javascript" src="services/blogservice.js"></script>
<script type="text/javascript" src="controllers/blogdetailscontroller.js"></script>
<script type="text/javascript" src="services/homeservice.js"></script>
<script type="text/javascript" src="controllers/homecontroller.js"></script>
<script type="text/javascript" src="services/FriendService.js"></script>
<script type="text/javascript" src="controllers/friendcontroller.js"></script>
</html>